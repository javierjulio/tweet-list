(function(){var a,b,c=function(a,b){return function(){return a.apply(b,arguments)}};a=window.jQuery,b=function(){function b(b,d){this.loadTweets=c(this.loadTweets,this),this.buildApiUrl=c(this.buildApiUrl,this),this.linkURLs=c(this.linkURLs,this),this.linkMentions=c(this.linkMentions,this),this.linkHashes=c(this.linkHashes,this),this.formatLinks=c(this.formatLinks,this),this.el=a(b),this.settings=a.extend({},a.fn.tweetList.defaults,d,this.el.data()),console.log("settings",this.settings),this.loadTweets()}return b.prototype.formatLinks=function(a){return a=this.linkURLs(a),a=this.linkHashes(a),a=this.linkMentions(a),a},b.prototype.linkHashes=function(a){var b,c,d,e,f;c=a.match(/\#[\w]*/gi);if(c!=null)for(e=0,f=c.length;e<f;e++)b=c[e],d='<a href="http://twitter.com/search/%23'+b.replace("#","")+'">'+b+"</a>",a=a.replace(b,d);return a},b.prototype.linkMentions=function(a){var b,c,d,e,f,g;c=a.match(/@[\w]*/gi);if(c!=null)for(f=0,g=c.length;f<g;f++)b=c[f],e=b.replace("@",""),d='@<a href="http://twitter.com/'+e+'">'+e+"</a>",a=a.replace(b,d);return a},b.prototype.linkURLs=function(a){var b,c,d,e;c=a.match(/http(s)?:\/\/[\S]*/gi);if(c!=null)for(d=0,e=c.length;d<e;d++)b=c[d],a=a.replace(b,'<a href="'+b+'">'+b+"</a>");return a},b.prototype.buildApiUrl=function(){var a,b,c;return a=["screen_name="+this.settings.username,"count="+this.settings.count,"trim_user="+this.settings.trimUser,"include_rts="+this.settings.includeRetweets,"include_entities="+this.settings.includeEntities],c="?"+a.join("&"),b=window.location.protocol==="https:"?"https:":"http:",""+b+"//api.twitter.com/1/statuses/user_timeline.json"+c},b.prototype.loadTweets=function(){var b=this;return a.ajax({type:"GET",dataType:"jsonp",url:this.buildApiUrl(),error:function(a,b,c){return console.log("error")},success:function(c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q,r;console.log("loaded",c),b.el.trigger("loaded"),g=function(){var a,b,d;d=[];for(a=0,b=c.length;a<b;a++)o=c[a],r=this.settings.username,h=o.retweeted_status!=null,h&&(k=o.retweeted_status),q=h?k.user.id:o.user.id,p=h?k.id_str:o.id_str,i="http://twitter.com/"+q+"/status/"+p,n=new Date,m=h?k.text:o.text,f=this.formatLinks(m),l=h?'<div class="retweet-by">Retweeted by <a href="http://twitter.com/'+r+'">'+r+"</a></div>":"",d.push('<li>            <a href="http://twitter.com/account/redirect_by_id?id='+q+'">              <img src="https://api.twitter.com/1/users/profile_image/'+q+'">            </a>            '+f+l+'            <time datetime="'+n+'" pubdate></time>          </li>');return d}.call(b),j=a.Event("rendered"),b.el.html(g.join("")).trigger(j);if(j.isDefaultPrevented())return;return b.el.animate({height:"show",opacity:"show"},400)}})},b}(),a.fn.tweetList=function(c){return this.each(function(){var d,e;d=a(this),e=d.data("tweetList");if(!e)return d.data("tweetList",e=new b(this,c))})},a.fn.tweetList.Constructor=b,a.fn.tweetList.defaults={count:5,includeEntities:!0,includeRetweets:!0,timeout:5e3,trimUser:!0,username:"javierjulio"}}).call(this);